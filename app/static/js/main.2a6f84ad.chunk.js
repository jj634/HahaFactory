(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{168:function(e,t,a){e.exports=a.p+"static/media/operator.23ba0e19.png"},199:function(e,t,a){e.exports=a(346)},204:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(40),o=a.n(s),c=(a(204),a(74)),l=a(75),i=a(86),u=a(84),h=a(77),m=a.n(h),p=(a(222),a(223),a(224),a(168)),d=a.n(p),g=a(169),f=a(76),E=a(34),v=a(360),b=a(363),k="1\n2\n3\n4\n5".split("\n"),S="One-Liner\nShort\nMedium\nLong".split("\n"),j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e,t){var a=t.name,r=t.value;n.setState(Object(g.a)({},a,r))},n.state={isLoaded:!1,cat_options:[],categories:n.props.categories||[],search:n.props.search||"",score:n.props.score||"",size:n.props.size||""},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;m()({method:"GET",url:"http://localhost:5000/api/cat-options"}).then((function(t){e.setState({cat_options:t.data.categories,isLoaded:!0})})).catch((function(e){return console.log(e)}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.search,n=t.categories,r=t.score,s=t.size,o=new URLSearchParams;null!=this.state.search&&o.append("search",a),null!==this.state.categories&&n.forEach((function(e){o.append("categories",e)})),null!=this.state.score&&o.append("score",r),null!=this.state.size&&o.append("size",s);var c="?"+o.toString();this.props.history.push({pathname:"/",search:c})}},{key:"render",value:function(){var e=this,t=this.state.cat_options.map((function(e){return{key:e,text:e,value:e}})),a=k.map((function(e){return{key:e,text:e,value:e}})),n=S.map((function(t){return r.a.createElement(v.a.Radio,{label:t,name:"size",value:t,onChange:e.handleChange,checked:t.toLowerCase()===e.state.size.toLowerCase()})}));return r.a.createElement(v.a,{onSubmit:this.handleSubmit},r.a.createElement(v.a.Input,{placeholder:"Search",name:"search",label:"Keywords",type:"text",onChange:this.handleChange,defaultValue:this.props.search}),r.a.createElement(v.a.Dropdown,{closeOnChange:!0,placeholder:"Select Categories",name:"categories",label:"Categories",multiple:!0,search:!0,selection:!0,options:t,onChange:this.handleChange,defaultValue:this.props.categories}),r.a.createElement(v.a.Dropdown,{placeholder:"Select Minimum Score",name:"score",label:"Minimum Score",selection:!0,options:a,onChange:this.handleChange,defaultValue:this.props.score}),r.a.createElement(v.a.Group,{inline:!0},r.a.createElement("label",null,"Length of Joke"),n),r.a.createElement(b.a,{class:"ui button",type:"submit"},"Go"))}}]),a}(r.a.Component),y=Object(E.f)(j),w=a(85),C=function(e){var t=e.jokes;return 0==t.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("center",null,r.a.createElement("h2",null,"Jokes")),t.map((function(e,t){return t<=20?r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.text),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.score),e.categories.map((function(e){return r.a.createElement(w.a,null,e)})))),r.a.createElement("br",null)):null})))},L=a(357),z=a(358),O=a(356),N=a(362),x=a(359),D=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,jokes:[],categories:[],score:"",search:"",size:""},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.fetchResults()}},{key:"fetchResults",value:function(){var e=this,t=new URLSearchParams(window.location.search),a=t.getAll("categories"),n=t.get("score"),r=t.get("search"),s=t.get("size");m()({method:"GET",url:"http://localhost:5000/api/search",params:t}).then((function(t){e.setState({isLoaded:!0,jokes:t.data.jokes,categories:a,score:n,search:r,size:s})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e){!1===this.state.isLoaded&&this.fetchResults()}},{key:"render",value:function(){return this.state.isLoaded?r.a.createElement(O.a,null,r.a.createElement(L.a,{className:"justify-content-md-center"},r.a.createElement(z.a,null,r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"HahaFactory"),r.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"})),r.a.createElement(y,{score:this.state.score,categories:this.state.categories,search:this.state.search,size:this.state.size}))),r.a.createElement(L.a,null,r.a.createElement(z.a,{className:"jokes-col"},r.a.createElement(C,{jokes:this.state.jokes})))):r.a.createElement(N.a,{active:!0,inverted:!0},r.a.createElement(x.a,{size:"large"},"Loading"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=new URLSearchParams(e.location.search),n=a.getAll("categories"),r=a.get("score"),s=a.get("search"),o=a.get("size");return n.sort().toString()!==t.categories.sort().toString()||r!==t.score||s!==t.search||o!==t.size?{isLoaded:!1}:null}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(108);o.a.render(r.a.createElement(R.a,null,r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",component:D}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[199,1,2]]]);
//# sourceMappingURL=main.2a6f84ad.chunk.js.map